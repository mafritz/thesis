# A Parsimonious Computational Model Linking Appraisal and Subjective Feeling

```{r computational-model-setup, include=FALSE, echo=FALSE}
library(tidyverse)
library(papaja)
library(here)
library(knitr)
library(kableExtra)

# Load the relevant data and graphs
source(here("data", "dew-rt", "dew-rt-export.R"))

```

This chapter illustrates a parsimonious computational model inspired by the Component Process Model (CPM) theoretical framework that links appraisals criteria and subjective feeling. As a reminder, appraisals criteria in appraisal theories of emotions -- and the CPM more specifically -- are cognitive evaluation of an event, which determine emotion elicitation and differentiation. The subjective feeling, on the other hand, is the result of a highly dynamic and cumulative process, instantiated by appraisal, that coalesces in an overall emotional experience, from which the person may extrapolate meaning by recurring to natural language words or idioms that best convey its ineffable nature. In previous works, I have set forth the foundations of a prototype of an EAT, named *Dynamic Emotion Wheel* for its relationship with the Geneva Emotion Wheel illustrated in Part I of the thesis, which already explored the possibility to use active ratings of appraisal criteria to determine a set of subjective feelings most likely to occur, given the specific evaluation of the appraisal criteria. Previous work was nevertheless mainly driven by usability concerns emerged in empirical contributions using a provisional EAT [@molinariEmotionFeedbackComputermediated2013]. As it is often the case with usability issues, though, they were only the tip of the iceberg of more fundamental issues to be addressed, which initialized the quest for a better concept of an EAT. This chapter therefore builds on previous work in an attempt to bring an EAT even closer to appraisal theories of emotion, and the CPM more specifically.

The chapter starts by briefly describing previous work on the Dynamic Emotion Wheel. Then, it extends on it by implementing a *k-nearest neighbor* approach to the relationship between appraisals and subjective feeling. Harnessing the abstract concept of an *N-dimensional* affective spA, a parsimonious computational model can link one or more appraisal criteria with a set of subjective feelings that ar most likely to correspond with the specific appraisal profile. While presenting the abstract model, existing affective spAs will be used to illustrate the concept in more concrete terms. At the end of the chapter, the core principle of an appraisal-driven EAT will emerge, paving the way to the possibility of configuring it according to theoretical or practical needs.

## The Dynamic Emotion Wheel

During the Master of Science in Learning and Teaching Technologies at Geneva University between 2013 and 2015, I had the chance to collaborate to the *Emotion Awareness Tool for Computer-Mediated Interactions* (EATMINT) project, which at the time had just concluded empirical investigation on the use of Emotional Awareness Tools in computer-mediated collaboration -- which then led to several publications [*e.g.*, @cereghettiSharingEmotionsComputermediated2015; @Chanel2013; @molinariEmotionFeedbackComputermediated2013]. The project had two intertwined main objectives:

1. Designing Emotion Awareness Tools, which allow either the explicit or the autonomic sharing of
emotions among participants in a computer-mediated task;
2. Studying the impact of emotional awareness on collaboration both at intra- and inter-personal
levels, with respect to the emergence of strategies that improve collaboration such as monitoring,
regulating and reflecting on emotions.


## A Parsimonious Computational Model Based on a *K-Nearest Neighbor* Approach

The bi-dimensional mechanism of the DEW can be abstracted according to the working definition of emotion provided by @mulliganWorkingDefinitionEmotion2012, specifically the points about appraisals: (a) an emotion *is triggered by at least one appraisal*, and (2) an emotion *is guided by at least one appraisal*. In other words, an emotional episode is elicited and differentiated according to at least 1, and up to *n*, appraisal criteria. 

To ease the illustration of the parsimonious computational model, the section adopts the following notation:

* $E$ stands for *Appraisal **E**valuation*, that is, the hypothetical value that a cognitive evaluation can have on a given set of appraisal criteria $E_1$, $E_2$, ..., $E_n$. In concrete terms, $E$ represents the rating of a person asked to evaluate one or more appraisal dimensions. For instance, if there was only one appraisal, say, *Novelty*, than $E$ assumes a value determined by the extent to which the person evaluates the event as sudden, familiar or unpredictable on $E_1$.
* $P$ stands for *Subjective Feeling **P**redicted Appraisal*, that is, the predicted appraisal profile associated with a given subjective feeling, with subscripts $S_1$, $S_2$, ..., $S_n$ representing a set of $n$ predicted appraisal criteria In concrete terms, $P$ represents the appraisal profile that is supposed to elicit the given subjective feeling. For instance, the CPM predicts that a subjective feeling represented by the word *Happiness* may be related to a higher evaluation on appraisal *Novelty* compared to a subjective feeling represented by the word *Sadness* [@schererComponentProcessModel2010].

As a consequence, $d(E, P)$ represents the distance between the Appraisal Evaluation and the Subjective Feeling Predicted Appraisal, with the *k-nearest neighbors* being the *k* subjective feelings with the lowest $d(E, P)$. In other words, if $k=5$, then among all the subjective feelings in the affective space, the 5 whose appraisal profile $P$ is closer to the appraisal evaluation $E$ represent the subset of most likely subjective feelings to occur, given the *mysterious* point $E$, which is provided by the person cognitive evaluation. The following subsections illustrates how the distance $d(E, P)$ is calculated by the model depending on the number of appraisal criteria/dimensions composing the underlying affective space.

### One-Dimensional Affective Space

In a one-dimensional affective space, that is, where there is only a single appraisal criterion, the nearest neighbors are determined by the absolute distance between $E$ and $P$:

$$
d(E, P) = |E_1 - S_1|
$$

One-dimensional affective space are not usually defined as such in the literature, even though the possibility to conceptualize emotion on a single dimension is not infrequent, especially when this dimension represents an omnibus *valence* that often divides emotion in positive and negative. The possibility to use a one-dimensional affective space is therefore warranted by the working definition itself (*i.e.*, *at least one appraisal*), as well as by researchers and practitioners habit to recur to a dichotomous affective space, even though the actual rating is implicit rather than explicit, for instance in grouping choices.

### Two-Dimensional Affective Space

Two-dimensional, or bi-dimensional, affective spaces are ubiquitous in research, especially in the form of the Valence * Arousal circumplex [@russellCircumplexModelAffect1980]. Several scholars have adopted two-dimensional affective spaces in their research, and also as a graphical representation for self-report/awareness tools [*e.g.*, @feidakisEndowingElearningSystems2011]. Consequently, it is important that an overarching computational model can manage to incorporate different kind of two-dimensional affective spaces. 

#### Circumplex Affective Space

$$
E_{slope} = arctan(\frac{E_1}{E_2})
$$
When both $E_1$ and $E_2$ are at the neutral point 0, $d(E, P)$ is exactly the same for every subjective feeling, since any point on a circle is at the same distance from the origin. Conceptually, thus, any subjective feeling is as likely to represent the neutral point as any other. The computational model, thus, attributes a virtual random value both to $E_1$ and $E_2$ according to the range of the two appraisals dimensions only with the purpose to shuffle the set of subjective feelings and avoid thus that some subjective feelings are arbitrarily suggested with the neutral point.

$$
d(E, P) = |E_{slope} - S_{slope}|
$$

#### Cartesian Plane Affective Space

$$
d(E, P) = \sqrt{(E_1 - S_1)^2 + (E_2 - S_2)^2}
$$

#### Comparison

Taking advantage of the fact that the disposition of the 20 subjective feelings in the third version of the Geneva Emotion Wheel [@schererGRIDMeetsWheel2013] has been determined using the GRID instrument, the same affective space is available as a circumplex and as Cartesian plane. As a consequence, it is possible to simulate the behavior of the computational model. For the purpose of the simulation, the following parameters will be adopted:

* The two appraisal dimensions (Valence and Control/Power) are implemented on a continuum ranging from -100 to 100, divied in steps of 1 unit;
* The *k*-nearest neighbors is set to $k = 3$ and to $k = 10$ to assess how the radial and the vector algorithms behave when the number of suggested feelings varies;
* The subjective feelings in the circumplex affective space are disposed so that each is equally distant from the previous and the following item, with a rotation of half the distance between each subjective feeling to respect the graphical representation of the circumplex, see the righ side of Figure \@ref(fig:pof-gew-radial-vs-vector);
* The subjective feelings in the Cartesian plan are disposed according to the values retrieved from data retrieved in @schererGRIDMeetsWheel2013, see the left side of Figure \@ref(fig:pof-gew-radial-vs-vector). The original value on a range from -1 to 1 has been multiplied by 100 to map the range of the simulation.

(ref:pof-gew-radial-vs-vector-caption) Disposition of the Geneva Emotion Wheel's 20 subjective feeling on a circumplex (left) and Cartesian plane (right) affective space. Reconstructed from @schererGRIDMeetsWheel2013.
```{r pof-gew-radial-vs-vector, fig.align="center", fig.cap="(ref:pof-gew-radial-vs-vector-caption)", fig.align="center", out.width="100%"}
knitr::include_graphics(here("figure/dew-rt/gew-radial-vs-vector.png"))
```

The simulation is computed by looping the $E_1$ and $E_2$ ranges so that each possible combination between the two -- that is, [-100, -100], [-100, -99], ..., [0, 0], ..., [100, 100] -- generates a subset of $k = 3$ or $k = 10$ subset of subjective feelings. Figure \@ref(fig:pf-simulation-3) and  \@ref(fig:pf-simulation-3) show the results of the simulation. With a $k = 3$ subset, the radial distance of the circumplex shows a more homogeneous number of appearances of each subjective feeling in the subset compared to the vector distance of the Cartesian plane. The opposite happens with $k = 10$, where the vector distance results in more homogeneous number of appearances compared to the radial distance.

(ref:pof-simulation-3-caption) Results of the simulation comparing distance computed as a radial or vector distance with a subset of $k = 3$ subjective feelings.
```{r pf-simulation-3, fig.align="center", fig.cap="(ref:pof-simulation-3-caption)", fig.align="center", out.width="70%"}
dew_rt.sim_gew_graph_3
```

(ref:pof-simulation-10-caption) Results of the simulation comparing distance computed as a radial or vector distance with a subset of $k = 10$ subjective feelings.
```{r pof-simulation-10, fig.align="center", fig.cap="(ref:pof-simulation-10-caption)", fig.align="center", out.width="70%"}
dew_rt.sim_gew_graph_10
```

This simulation has only illustrative purpose, because the two affective spaces are only examples of an infinite number of spaces that can be conceived and therefore results may be very different with other configuration. Nevertheless, this kind of simulation may be interesting to carry out before adopting an affective space (see next chapter) to assess whether there are subjective feelings that are more likely to be suggested by the system, because that could influence learners in choosing them.

### Multi-Dimensional Affective Space

$$
d(E, P) = \sqrt{(E_1- S_1)^2 + (E_2 - S_2)^2+\cdots+(E_n - S_n)^2}
$$

## Synthesis



